{"ast":null,"code":"var _jsxFileName = \"/Users/santatriniainariantsoaramanampamonjy/Documents/Etudes/Projet/buffa/finder-music/src/components/Util/Header.js\";\nimport { Avatar, Card, List, ListItem, ListItemAvatar, ListItemText } from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Divider from '@material-ui/core/Divider';\nimport InputBase from '@material-ui/core/InputBase';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport SearchIcon from '@material-ui/icons/Search';\nimport _ from \"lodash\";\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, NavLink } from 'react-router-dom';\nimport logo from '../../assets/img/logo.png';\nimport * as actionTypes from '../../store/actions';\nimport { get } from '../../util/util';\n\nconst Header = props => {\n  const [search, setSearch] = useState([]);\n  const classes = useStyles();\n\n  const findArtist = artistName => {\n    if (artistName === \"\") {\n      setSearch([]);\n      return;\n    }\n\n    get('https://wasabi.i3s.unice.fr/search/fulltext/' + artistName).then(response => {\n      if (response != null) {\n        setSearch(response.filter(e => e.albumTitle == null));\n      }\n    });\n  };\n\n  const handleSearchClick = function (name) {\n    get('https://wasabi.i3s.unice.fr/search/artist/' + name).then(response => {\n      props.onArtistChange(response);\n    }).catch(e => console.log(e)).finally(e => {\n      setSearch([]);\n    });\n  };\n\n  let debouncedFn = null;\n\n  const onChange = event => {\n    event.persist();\n\n    if (!debouncedFn) {\n      debouncedFn = _.debounce(() => {\n        findArtist(event.target.value);\n      }, 300);\n    }\n\n    debouncedFn();\n  };\n\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(AppBar, {\n    position: \"static\",\n    className: classes.appBar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    className: classes.toolbar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    className: classes.title,\n    variant: \"h6\",\n    noWrap: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: logo,\n    alt: \"logo\",\n    className: \"logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: classes.search,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.searchIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(SearchIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  })), React.createElement(InputBase, {\n    placeholder: \"Search an artist here\\u2026\",\n    classes: {\n      root: classes.inputRoot,\n      input: classes.inputInput\n    },\n    inputProps: {\n      'aria-label': 'search'\n    },\n    onChange: onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), React.createElement(Card, {\n    className: \"search-result\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, search && search.length > 0 && React.createElement(List, {\n    dense: true,\n    className: classes.searchResult,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, search === null || search === void 0 ? void 0 : search.map((value, index) => {\n    return React.createElement(React.Fragment, {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(ListItem, {\n      key: value,\n      button: true,\n      onClick: e => {\n        handleSearchClick(value.name);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(ListItemAvatar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      alt: \"artist\",\n      src: value.picture,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })), React.createElement(ListItemText, {\n      primary: value.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(Divider, {\n      variant: \"inset\",\n      component: \"li\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }));\n  })))), React.createElement(\"div\", {\n    className: \"header-nav-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"nav\", {\n    className: \"header__navigation\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"nav-link-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(NavLink, {\n    to: \"/\",\n    className: \"nav-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"Home\")), React.createElement(\"li\", {\n    className: \"nav-link-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(NavLink, {\n    to: \"/about\",\n    className: \"nav-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"About Us\")), React.createElement(\"li\", {\n    className: \"nav-link-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"https://github.com/Santatra-Riantsoa/finder-music\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    className: \"nav-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"GitHub\"))))))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    art: state === null || state === void 0 ? void 0 : state.artist\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onArtistChange: artistData => dispatch({\n      type: actionTypes.CHANGE_ARTIST,\n      artist: artistData\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    zIndex: 2,\n    position: 'relative'\n  },\n  searchResult: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n    color: 'black'\n  },\n  toolbar: {\n    display: \"flex\",\n    justifyContent: \"space-around\"\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25)\n    },\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(1),\n      width: 'auto'\n    }\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  inputRoot: {\n    color: 'inherit'\n  },\n  appBar: {\n    backgroundColor: \"#3d4977\"\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: '40ch',\n      '&:focus': {\n        width: '45ch'\n      }\n    }\n  }\n}));","map":{"version":3,"sources":["/Users/santatriniainariantsoaramanampamonjy/Documents/Etudes/Projet/buffa/finder-music/src/components/Util/Header.js"],"names":["Avatar","Card","List","ListItem","ListItemAvatar","ListItemText","AppBar","Divider","InputBase","fade","makeStyles","Toolbar","Typography","SearchIcon","_","React","useState","connect","Link","NavLink","logo","actionTypes","get","Header","props","search","setSearch","classes","useStyles","findArtist","artistName","then","response","filter","e","albumTitle","handleSearchClick","name","onArtistChange","catch","console","log","finally","debouncedFn","onChange","event","persist","debounce","target","value","root","appBar","toolbar","title","searchIcon","inputRoot","input","inputInput","length","searchResult","map","index","picture","mapStateToProps","state","art","artist","mapDispatchToProps","dispatch","artistData","type","CHANGE_ARTIST","theme","flexGrow","zIndex","position","width","backgroundColor","palette","background","paper","color","display","justifyContent","menuButton","marginRight","spacing","borderRadius","shape","common","white","marginLeft","breakpoints","up","padding","height","pointerEvents","alignItems","paddingLeft","transition","transitions","create"],"mappings":";AAAA,SAASA,MAAT,EAAiBC,IAAjB,EAAuBC,IAAvB,EAA6BC,QAA7B,EAAuCC,cAAvC,EAAuDC,YAAvD,QAA2E,mBAA3E;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,0BAAjC;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,IAAT,EAAeC,OAAf,QAA8B,kBAA9B;AACA,OAAOC,IAAP,MAAiB,2BAAjB;AACA,OAAO,KAAKC,WAAZ,MAA6B,qBAA7B;AACA,SAASC,GAAT,QAAoB,iBAApB;;AAEA,MAAMC,MAAM,GAAIC,KAAD,IAAU;AACvB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,EAAD,CAApC;AACA,QAAMW,OAAO,GAAGC,SAAS,EAAzB;;AACA,QAAMC,UAAU,GAAIC,UAAD,IAAgB;AACjC,QAAGA,UAAU,KAAG,EAAhB,EAAoB;AAClBJ,MAAAA,SAAS,CAAC,EAAD,CAAT;AACA;AACD;;AACDJ,IAAAA,GAAG,CAAC,iDAAiDQ,UAAlD,CAAH,CAAiEC,IAAjE,CAAsEC,QAAQ,IAAI;AAChF,UAAIA,QAAQ,IAAI,IAAhB,EAAsB;AAClBN,QAAAA,SAAS,CAACM,QAAQ,CAACC,MAAT,CAAgBC,CAAC,IAAEA,CAAC,CAACC,UAAF,IAAc,IAAjC,CAAD,CAAT;AACH;AACF,KAJD;AAKH,GAVC;;AAYF,QAAMC,iBAAiB,GAAG,UAAUC,IAAV,EAAe;AACvCf,IAAAA,GAAG,CAAC,+CAA+Ce,IAAhD,CAAH,CAAyDN,IAAzD,CAA8DC,QAAQ,IAAI;AACtER,MAAAA,KAAK,CAACc,cAAN,CAAqBN,QAArB;AACH,KAFD,EAEGO,KAFH,CAESL,CAAC,IAAEM,OAAO,CAACC,GAAR,CAAYP,CAAZ,CAFZ,EAGCQ,OAHD,CAGUR,CAAD,IAAK;AACZR,MAAAA,SAAS,CAAC,EAAD,CAAT;AACD,KALD;AAMD,GAPD;;AASA,MAAIiB,WAAW,GAAG,IAAlB;;AAEA,QAAMC,QAAQ,GAAIC,KAAD,IAAW;AAC1BA,IAAAA,KAAK,CAACC,OAAN;;AACA,QAAI,CAACH,WAAL,EAAkB;AAChBA,MAAAA,WAAW,GAAI7B,CAAC,CAACiC,QAAF,CAAW,MAAM;AAC7BlB,QAAAA,UAAU,CAACgB,KAAK,CAACG,MAAN,CAAaC,KAAd,CAAV;AACF,OAFc,EAEZ,GAFY,CAAf;AAGD;;AACDN,IAAAA,WAAW;AACZ,GARD;;AAUE,SACE;AAAK,IAAA,SAAS,EAAEhB,OAAO,CAACuB,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAC,QAAjB;AAA0B,IAAA,SAAS,EAAEvB,OAAO,CAACwB,MAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,OAAD;AAAS,IAAA,SAAS,EAAExB,OAAO,CAACyB,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAEzB,OAAO,CAAC0B,KAA/B;AAAsC,IAAA,OAAO,EAAC,IAA9C;AAAmD,IAAA,MAAM,MAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAEjC,IAAV;AAAgB,IAAA,GAAG,EAAC,MAApB;AAA2B,IAAA,SAAS,EAAC,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CADF,EAME;AAAK,IAAA,SAAS,EAAEO,OAAO,CAACF,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEE,OAAO,CAAC2B,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,oBAAC,SAAD;AACE,IAAA,WAAW,EAAC,6BADd;AAEE,IAAA,OAAO,EAAE;AACPJ,MAAAA,IAAI,EAAEvB,OAAO,CAAC4B,SADP;AAEPC,MAAAA,KAAK,EAAE7B,OAAO,CAAC8B;AAFR,KAFX;AAME,IAAA,UAAU,EAAE;AAAE,oBAAc;AAAhB,KANd;AAOE,IAAA,QAAQ,EAAEb,QAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAaE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEKnB,MAAM,IAAIA,MAAM,CAACiC,MAAP,GAAc,CAAzB,IACE,oBAAC,IAAD;AAAM,IAAA,KAAK,MAAX;AAAY,IAAA,SAAS,EAAE/B,OAAO,CAACgC,YAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIlC,MAFJ,aAEIA,MAFJ,uBAEIA,MAAM,CAAEmC,GAAR,CAAY,CAACX,KAAD,EAAQY,KAAR,KAAkB;AAC5B,WACE,oBAAC,KAAD,CAAO,QAAP;AAAgB,MAAA,GAAG,EAAEA,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEZ,KAAf;AAAsB,MAAA,MAAM,MAA5B;AAA6B,MAAA,OAAO,EAAGf,CAAD,IAAK;AAACE,QAAAA,iBAAiB,CAACa,KAAK,CAACZ,IAAP,CAAjB;AAA8B,OAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,GAAG,EAAC,QAAZ;AAAqB,MAAA,GAAG,EAAEY,KAAK,CAACa,OAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAIE,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAEb,KAAK,CAACZ,IAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADF,EAOE,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAC,OAAjB;AAAyB,MAAA,SAAS,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADF;AAWD,GAZD,CAFJ,CAHN,CAbF,CANF,EA6CE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmC,oBAAC,OAAD;AAAS,IAAA,EAAE,EAAC,GAAZ;AAAgB,IAAA,SAAS,EAAC,UAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAnC,CADJ,EAEI;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmC,oBAAC,OAAD;AAAS,IAAA,EAAE,EAAC,QAAZ;AAAqB,IAAA,SAAS,EAAC,UAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAnC,CAFJ,EAGI;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmC;AAAG,IAAA,IAAI,EAAC,mDAAR;AAA4D,IAAA,MAAM,EAAC,QAAnE;AAA4E,IAAA,GAAG,EAAC,qBAAhF;AAAsG,IAAA,SAAS,EAAC,UAAhH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAnC,CAHJ,CADJ,CADF,CA7CF,CADF,CADF,CADF;AA6DD,CAjGD;;AAmGA,MAAM0B,eAAe,GAAGC,KAAK,IAAI;AAC/B,SAAO;AACHC,IAAAA,GAAG,EAAED,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEE;AADT,GAAP;AAGD,CAJD;;AAKA,MAAMC,kBAAkB,GAAGC,QAAQ,IAAI;AACrC,SAAO;AACH9B,IAAAA,cAAc,EAAG+B,UAAD,IAAgBD,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAEjD,WAAW,CAACkD,aAApB;AAAmCL,MAAAA,MAAM,EAAEG;AAA3C,KAAD;AADrC,GAAP;AAGD,CAJD;;AAKA,eAAepD,OAAO,CAAC8C,eAAD,EAAkBI,kBAAlB,CAAP,CAA6C5C,MAA7C,CAAf;AAGA,MAAMK,SAAS,GAAGlB,UAAU,CAAC8D,KAAK,KAAK;AACnCtB,EAAAA,IAAI,EAAE;AACJuB,IAAAA,QAAQ,EAAE,CADN;AAEJC,IAAAA,MAAM,EAAE,CAFJ;AAGJC,IAAAA,QAAQ,EAAE;AAHN,GAD6B;AAOnChB,EAAAA,YAAY,EAAE;AACZiB,IAAAA,KAAK,EAAE,MADK;AAEZC,IAAAA,eAAe,EAAEL,KAAK,CAACM,OAAN,CAAcC,UAAd,CAAyBC,KAF9B;AAGZC,IAAAA,KAAK,EAAE;AAHK,GAPqB;AAanC7B,EAAAA,OAAO,EAAE;AACP8B,IAAAA,OAAO,EAAE,MADF;AAEPC,IAAAA,cAAc,EAAE;AAFT,GAb0B;AAkBnCC,EAAAA,UAAU,EAAE;AACVC,IAAAA,WAAW,EAAEb,KAAK,CAACc,OAAN,CAAc,CAAd;AADH,GAlBuB;AAqBnC7D,EAAAA,MAAM,EAAE;AACNkD,IAAAA,QAAQ,EAAE,UADJ;AAENY,IAAAA,YAAY,EAAEf,KAAK,CAACgB,KAAN,CAAYD,YAFpB;AAGNV,IAAAA,eAAe,EAAEpE,IAAI,CAAC+D,KAAK,CAACM,OAAN,CAAcW,MAAd,CAAqBC,KAAtB,EAA6B,IAA7B,CAHf;AAIN,eAAW;AACTb,MAAAA,eAAe,EAAEpE,IAAI,CAAC+D,KAAK,CAACM,OAAN,CAAcW,MAAd,CAAqBC,KAAtB,EAA6B,IAA7B;AADZ,KAJL;AAONC,IAAAA,UAAU,EAAE,CAPN;AAQNf,IAAAA,KAAK,EAAE,MARD;AASN,KAACJ,KAAK,CAACoB,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CAAD,GAA8B;AAC5BF,MAAAA,UAAU,EAAEnB,KAAK,CAACc,OAAN,CAAc,CAAd,CADgB;AAE5BV,MAAAA,KAAK,EAAE;AAFqB;AATxB,GArB2B;AAmCnCtB,EAAAA,UAAU,EAAE;AACVwC,IAAAA,OAAO,EAAEtB,KAAK,CAACc,OAAN,CAAc,CAAd,EAAiB,CAAjB,CADC;AAEVS,IAAAA,MAAM,EAAE,MAFE;AAGVpB,IAAAA,QAAQ,EAAE,UAHA;AAIVqB,IAAAA,aAAa,EAAE,MAJL;AAKVd,IAAAA,OAAO,EAAE,MALC;AAMVe,IAAAA,UAAU,EAAE,QANF;AAOVd,IAAAA,cAAc,EAAE;AAPN,GAnCuB;AA4CnC5B,EAAAA,SAAS,EAAE;AACT0B,IAAAA,KAAK,EAAE;AADE,GA5CwB;AA+CnC9B,EAAAA,MAAM,EAAE;AACN0B,IAAAA,eAAe,EAAE;AADX,GA/C2B;AAkDnCpB,EAAAA,UAAU,EAAE;AACVqC,IAAAA,OAAO,EAAEtB,KAAK,CAACc,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,CADC;AAEVY,IAAAA,WAAW,EAAG,cAAa1B,KAAK,CAACc,OAAN,CAAc,CAAd,CAAiB,KAFlC;AAGVa,IAAAA,UAAU,EAAE3B,KAAK,CAAC4B,WAAN,CAAkBC,MAAlB,CAAyB,OAAzB,CAHF;AAIVzB,IAAAA,KAAK,EAAE,MAJG;AAKV,KAACJ,KAAK,CAACoB,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CAAD,GAA8B;AAC5BjB,MAAAA,KAAK,EAAE,MADqB;AAE5B,iBAAW;AACTA,QAAAA,KAAK,EAAE;AADE;AAFiB;AALpB;AAlDuB,CAAL,CAAN,CAA5B","sourcesContent":["import { Avatar, Card, List, ListItem, ListItemAvatar, ListItemText } from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Divider from '@material-ui/core/Divider';\nimport InputBase from '@material-ui/core/InputBase';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport SearchIcon from '@material-ui/icons/Search';\nimport _ from \"lodash\";\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, NavLink } from 'react-router-dom';\nimport logo from '../../assets/img/logo.png';\nimport * as actionTypes from '../../store/actions';\nimport { get } from '../../util/util';\n\nconst Header = (props) =>{\n  const [search, setSearch] = useState([]);\n  const classes = useStyles();\n  const findArtist = (artistName) => {\n    if(artistName===\"\") {\n      setSearch([])\n      return;\n    }\n    get('https://wasabi.i3s.unice.fr/search/fulltext/' + artistName).then(response => {\n      if (response != null) {\n          setSearch(response.filter(e=>e.albumTitle==null));\n      }\n    })\n}\n\nconst handleSearchClick = function (name){\n  get('https://wasabi.i3s.unice.fr/search/artist/' + name).then(response => {\n      props.onArtistChange(response);\n  }).catch(e=>console.log(e))\n  .finally((e)=>{\n    setSearch([])\n  })\n}\n\nlet debouncedFn = null;\n\nconst onChange = (event) => {\n  event.persist();\n  if (!debouncedFn) {\n    debouncedFn =  _.debounce(() => {\n       findArtist(event.target.value);\n    }, 300);\n  }\n  debouncedFn();\n}\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\" className={classes.appBar}>\n        <Toolbar className={classes.toolbar}>\n          <Typography className={classes.title} variant=\"h6\" noWrap>\n              <Link to=\"/\">\n                  <img src={logo} alt=\"logo\" className=\"logo\" />\n              </Link>\n          </Typography>\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase\n              placeholder=\"Search an artist hereâ€¦\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n              inputProps={{ 'aria-label': 'search' }}\n              onChange={onChange}\n            />\n            <Card className=\"search-result\">\n            {\n                (search && search.length>0) && (\n                  <List dense className={classes.searchResult}>\n                    {\n                      search?.map((value, index) => {\n                        return (\n                          <React.Fragment key={index}>\n                            <ListItem key={value} button onClick={(e)=>{handleSearchClick(value.name)}}>\n                              <ListItemAvatar>\n                                <Avatar alt=\"artist\" src={value.picture} />\n                              </ListItemAvatar>\n                              <ListItemText primary={value.name} />\n                            </ListItem>\n                            <Divider variant=\"inset\" component=\"li\" />\n                          </React.Fragment>\n                        );\n                      }\n                      )\n                    }\n                  </List>\n                )\n              }\n            </Card>\n          </div>\n         \n          <div className=\"header-nav-container\">\n            <nav className=\"header__navigation\">\n                <ul>\n                    <li className=\"nav-link-container\"><NavLink to=\"/\" className=\"nav-link\">Home</NavLink></li>\n                    <li className=\"nav-link-container\"><NavLink to=\"/about\" className=\"nav-link\">About Us</NavLink></li>\n                    <li className=\"nav-link-container\"><a href='https://github.com/Santatra-Riantsoa/finder-music' target=\"_blank\" rel=\"noopener noreferrer\" className=\"nav-link\">GitHub</a></li>\n                </ul>\n            </nav>\n        </div>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n      art: state?.artist\n  }\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n      onArtistChange: (artistData) => dispatch({ type: actionTypes.CHANGE_ARTIST, artist: artistData })\n  }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n      flexGrow: 1,\n      zIndex: 2,\n      position: 'relative'\n    },\n\n    searchResult: {\n      width: '100%',\n      backgroundColor: theme.palette.background.paper,\n      color: 'black'\n    },\n  \n    toolbar: {\n      display: \"flex\",\n      justifyContent: \"space-around\"\n    },\n  \n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    search: {\n      position: 'relative',\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: fade(theme.palette.common.white, 0.15),\n      '&:hover': {\n        backgroundColor: fade(theme.palette.common.white, 0.25),\n      },\n      marginLeft: 0,\n      width: '100%',\n      [theme.breakpoints.up('sm')]: {\n        marginLeft: theme.spacing(1),\n        width: 'auto',\n      },\n    },\n    searchIcon: {\n      padding: theme.spacing(0, 2),\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    inputRoot: {\n      color: 'inherit',\n    },\n    appBar: {\n      backgroundColor: \"#3d4977\"\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create('width'),\n      width: '100%',\n      [theme.breakpoints.up('sm')]: {\n        width: '40ch',\n        '&:focus': {\n          width: '45ch',\n        },\n      },\n    },\n  }));\n  "]},"metadata":{},"sourceType":"module"}