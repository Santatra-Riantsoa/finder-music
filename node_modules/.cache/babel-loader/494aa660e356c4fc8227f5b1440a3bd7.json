{"ast":null,"code":"import _classCallCheck from\"/Users/santatriniainariantsoaramanampamonjy/Documents/Etudes/Projet/buffa/finder-music/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/santatriniainariantsoaramanampamonjy/Documents/Etudes/Projet/buffa/finder-music/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/santatriniainariantsoaramanampamonjy/Documents/Etudes/Projet/buffa/finder-music/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/santatriniainariantsoaramanampamonjy/Documents/Etudes/Projet/buffa/finder-music/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/santatriniainariantsoaramanampamonjy/Documents/Etudes/Projet/buffa/finder-music/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/santatriniainariantsoaramanampamonjy/Documents/Etudes/Projet/buffa/finder-music/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Paper,Tabs,Tab}from'@material-ui/core';import TabPanel from'../Util/TabPanel';import{Link}from'react-router-dom';import{get}from'../../util/util';import Artist from'./Artist/Artist';import Album from'./Album/Album';import Song from'./Song/Song';import Grid from'@material-ui/core/Grid';import*as actionTypes from'../../store/actions';import{connect}from'react-redux';var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);function Home(props){var _this;_classCallCheck(this,Home);_this=_possibleConstructorReturn(this,_getPrototypeOf(Home).call(this,props));_this.state={value:0,currentAlbum:null};_this.homeRef=React.createRef();_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function componentDidMount(){get('https://wasabi.i3s.unice.fr/search/more/Metallica').then(function(response){});}},{key:\"seeSong\",value:function seeSong(event,album){this.setState({currentAlbum:album});this.handleChange(event,2);}},{key:\"handleChange\",value:function handleChange(event,newValue){this.setState({value:newValue});}},{key:\"displayAlbumsContent\",value:function displayAlbumsContent(){var _this2=this;if(this.props.art!=null){var _this$props$art$album;var albumsPlaceHolder=(_this$props$art$album=this.props.art.albums)===null||_this$props$art$album===void 0?void 0:_this$props$art$album.map(function(one,index){return React.createElement(Album,{key:index,album:one,clicked:function clicked(event){return _this2.seeSong(event,one);}});});return albumsPlaceHolder;}}},{key:\"render\",value:function render(){var value=this.state.value;var defaulAlbum=this.state.currentAlbum?this.state.currentAlbum:this.props.art.albums[0];return React.createElement(\"div\",null,React.createElement(Paper,null,React.createElement(Tabs,{value:value,onChange:this.handleChange,indicatorColor:\"primary\",textColor:\"primary\",centered:true},React.createElement(Tab,{label:\"Artist\"}),React.createElement(Tab,{label:\"Album\"}),React.createElement(Tab,{label:\"Songs\"})),React.createElement(TabPanel,{value:value,index:0},React.createElement(Artist,this.props.art),React.createElement(Link,{to:\"/detail/id\"},\"Go to detail\")),React.createElement(TabPanel,{value:value,index:1},React.createElement(Grid,{container:true},this.displayAlbumsContent())),React.createElement(TabPanel,{value:value,index:2},React.createElement(Song,{album:defaulAlbum}))));}}]);return Home;}(Component);var mapStateToProps=function mapStateToProps(state){return{art:state===null||state===void 0?void 0:state.artist};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onArtistChange:function onArtistChange(artistData){return dispatch({type:actionTypes.CHANGE_ARTIST,artist:artistData});}};};export default connect(mapStateToProps,mapDispatchToProps)(Home);","map":{"version":3,"sources":["/Users/santatriniainariantsoaramanampamonjy/Documents/Etudes/Projet/buffa/finder-music/src/components/Home/Home.js"],"names":["React","Component","Paper","Tabs","Tab","TabPanel","Link","get","Artist","Album","Song","Grid","actionTypes","connect","Home","props","state","value","currentAlbum","homeRef","createRef","handleChange","bind","then","response","event","album","setState","newValue","art","albumsPlaceHolder","albums","map","one","index","seeSong","defaulAlbum","displayAlbumsContent","mapStateToProps","artist","mapDispatchToProps","dispatch","onArtistChange","artistData","type","CHANGE_ARTIST"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Paper, Tabs, Tab } from '@material-ui/core'\nimport TabPanel from '../Util/TabPanel'\nimport { Link } from 'react-router-dom';\nimport { get } from '../../util/util';\nimport Artist from './Artist/Artist';\nimport Album from './Album/Album';\nimport Song from './Song/Song';\nimport Grid from '@material-ui/core/Grid';\nimport * as actionTypes from '../../store/actions';\nimport { connect } from 'react-redux';\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: 0,\n            currentAlbum: null\n        }\n        this.homeRef = React.createRef();\n\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    componentDidMount() {\n        get('https://wasabi.i3s.unice.fr/search/more/Metallica').then(response => {\n        })\n    }\n    seeSong(event, album) {\n        this.setState({ currentAlbum: album });\n        this.handleChange(event, 2);\n    }\n    handleChange(event, newValue) {\n        this.setState({ value: newValue });\n    }\n    displayAlbumsContent() {\n        if (this.props.art != null) {\n\n            const albumsPlaceHolder = this.props.art.albums?.map((one, index) => (\n                <Album key={index} album={one} clicked={(event) => this.seeSong(event, one)} />\n            ));\n            return albumsPlaceHolder;\n        }\n\n    }\n    render() {\n        const { value } = this.state;\n        const defaulAlbum = this.state.currentAlbum ? this.state.currentAlbum : this.props.art.albums[0];\n        return (\n            <div>\n                <Paper>\n                    <Tabs\n                        value={value}\n                        onChange={this.handleChange}\n                        indicatorColor=\"primary\"\n                        textColor=\"primary\"\n                        centered\n                    >\n                        <Tab label=\"Artist\" />\n                        <Tab label=\"Album\" />\n                        <Tab label=\"Songs\" />\n                    </Tabs>\n                    <TabPanel value={value} index={0}>\n                        <Artist {...this.props.art}\n                        ></Artist>\n                        <Link to=\"/detail/id\">Go to detail</Link>\n                    </TabPanel>\n                    <TabPanel value={value} index={1}>\n                        <Grid container>\n                            {this.displayAlbumsContent()}\n                        </Grid>\n\n                    </TabPanel>\n                    <TabPanel value={value} index={2}>\n                        <Song album={defaulAlbum} ></Song>\n                    </TabPanel>\n                </Paper>\n            </div>\n        )\n    }\n}\nconst mapStateToProps = state => {\n    return {\n        art: state?.artist\n    }\n}\nconst mapDispatchToProps = dispatch => {\n    return {\n        onArtistChange: (artistData) => dispatch({ type: actionTypes.CHANGE_ARTIST, artist: artistData })\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);"]},"metadata":{},"sourceType":"module"}