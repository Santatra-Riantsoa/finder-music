{"ast":null,"code":"var _jsxFileName = \"/Users/santatriniainariantsoaramanampamonjy/Documents/Etudes/Projet/buffa/finder-music/src/components/Home/Home.js\";\nimport { Paper, Tab, Tabs, CardContent, Card } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actionTypes from '../../store/actions';\nimport Detail from '../Detail/Detail';\nimport TabPanel from '../Util/TabPanel';\nimport Album from './Album/Album';\nimport Song from './Song/Song';\nimport { get } from '../../util/util';\n\nclass Home extends Component {\n  constructor(props) {\n    var _this$props$match, _this$props$match$par;\n\n    super(props);\n    this.state = {\n      value: 0,\n      currentAlbum: null,\n      artist: this.props.art\n    };\n    this.id = (_this$props$match = this.props.match) === null || _this$props$match === void 0 ? void 0 : (_this$props$match$par = _this$props$match.params) === null || _this$props$match$par === void 0 ? void 0 : _this$props$match$par.id;\n    this.homeRef = React.createRef();\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.getDetailFromServer();\n  }\n\n  getDetailFromServer() {\n    if (this.id) {\n      get(\"https://wasabi.i3s.unice.fr/api/v1/artist/id/\" + this.id).then(result => {\n        this.setState({\n          artist: result\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n\n  seeSong(event, album) {\n    this.setState({\n      currentAlbum: album\n    });\n    this.handleChange(event, 2);\n  }\n\n  handleChange(event, newValue) {\n    this.setState({\n      value: newValue\n    });\n  }\n\n  displayAlbumsContent() {\n    if (this.props.art != null) {\n      var _this$props$art$album;\n\n      const albumsPlaceHolder = (_this$props$art$album = this.props.art.albums) === null || _this$props$art$album === void 0 ? void 0 : _this$props$art$album.map((one, index) => React.createElement(Album, {\n        key: index,\n        album: one,\n        clicked: event => this.seeSong(event, one),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }));\n      return albumsPlaceHolder;\n    }\n  }\n\n  render() {\n    const {\n      value\n    } = this.state;\n    const defaulAlbum = this.state.currentAlbum ? this.state.currentAlbum : this.props.art.albums[0];\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Tabs, {\n      value: value,\n      onChange: this.handleChange,\n      indicatorColor: \"primary\",\n      textColor: \"primary\",\n      centered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(Tab, {\n      label: \"Artist\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(Tab, {\n      label: \"Album\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(Tab, {\n      label: \"Songs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })), React.createElement(TabPanel, {\n      value: value,\n      index: 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Detail, {\n      artist: this.props.art,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(TabPanel, {\n      value: value,\n      index: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Card, {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(CardContent, {\n      className: \"card-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, this.displayAlbumsContent())))), React.createElement(TabPanel, {\n      value: value,\n      index: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Card, {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(CardContent, {\n      className: \"card-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Song, {\n      album: defaulAlbum,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    art: state === null || state === void 0 ? void 0 : state.artist\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onArtistChange: artistData => dispatch({\n      type: actionTypes.CHANGE_ARTIST,\n      artist: artistData\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["/Users/santatriniainariantsoaramanampamonjy/Documents/Etudes/Projet/buffa/finder-music/src/components/Home/Home.js"],"names":["Paper","Tab","Tabs","CardContent","Card","Grid","React","Component","connect","actionTypes","Detail","TabPanel","Album","Song","get","Home","constructor","props","state","value","currentAlbum","artist","art","id","match","params","homeRef","createRef","handleChange","bind","componentDidMount","getDetailFromServer","then","result","setState","catch","err","console","log","seeSong","event","album","newValue","displayAlbumsContent","albumsPlaceHolder","albums","map","one","index","render","defaulAlbum","mapStateToProps","mapDispatchToProps","dispatch","onArtistChange","artistData","type","CHANGE_ARTIST"],"mappings":"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","sourcesContent":["import { Paper, Tab, Tabs, CardContent, Card } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actionTypes from '../../store/actions';\nimport Detail from '../Detail/Detail';\nimport TabPanel from '../Util/TabPanel';\nimport Album from './Album/Album';\nimport Song from './Song/Song';\nimport { get } from '../../util/util';\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: 0,\n            currentAlbum: null,\n            artist: this.props.art,\n        }\n        this.id = this.props.match?.params?.id;\n        this.homeRef = React.createRef();\n\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    componentDidMount() {\n        this.getDetailFromServer();\n    }\n\n    getDetailFromServer() {\n        if(this.id) {\n            get(\"https://wasabi.i3s.unice.fr/api/v1/artist/id/\"+this.id).then((result) => {\n                this.setState({artist:result});\n            }).catch((err) => {\n                console.log(err);\n            });\n        }\n    }\n\n    seeSong(event, album) {\n        this.setState({ currentAlbum: album });\n        this.handleChange(event, 2);\n    }\n    handleChange(event, newValue) {\n        this.setState({ value: newValue });\n    }\n    displayAlbumsContent() {\n        if (this.props.art != null) {\n            const albumsPlaceHolder = this.props.art.albums?.map((one, index) => (\n                <Album key={index} album={one} clicked={(event) => this.seeSong(event, one)} />\n            ));\n            return albumsPlaceHolder;\n        }\n\n    }\n    render() {\n        const { value } = this.state;\n        const defaulAlbum = this.state.currentAlbum ? this.state.currentAlbum : this.props.art.albums[0];\n        return (\n            <div>\n                <Paper>\n                    <Tabs\n                        value={value}\n                        onChange={this.handleChange}\n                        indicatorColor=\"primary\"\n                        textColor=\"primary\"\n                        centered\n                    >\n                        <Tab label=\"Artist\" />\n                        <Tab label=\"Album\" />\n                        <Tab label=\"Songs\" />\n                    </Tabs>\n                    <TabPanel value={value} index={0}>\n                        <Detail artist={this.props.art} />\n                    </TabPanel>\n                    <TabPanel value={value} index={1}>\n                        <Grid container>\n                        <Card className=\"card\">\n                            <CardContent className=\"card-content\">\n                                {this.displayAlbumsContent()}\n                            </CardContent>\n                        </Card>\n                            \n                        </Grid>\n\n                    </TabPanel>\n                    <TabPanel value={value} index={2}>\n                        <Card className=\"card\">\n                            <CardContent className=\"card-content\">\n                                <Song album={defaulAlbum} ></Song>\n                            </CardContent>\n                        </Card>\n                        \n                    </TabPanel>\n                </Paper>\n            </div>\n        )\n    }\n}\nconst mapStateToProps = state => {\n    return {\n        art: state?.artist\n    }\n}\nconst mapDispatchToProps = dispatch => {\n    return {\n        onArtistChange: (artistData) => dispatch({ type: actionTypes.CHANGE_ARTIST, artist: artistData })\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n"]},"metadata":{},"sourceType":"module"}