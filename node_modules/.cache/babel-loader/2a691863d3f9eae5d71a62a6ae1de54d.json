{"ast":null,"code":"var _jsxFileName = \"/Users/santatriniainariantsoaramanampamonjy/Documents/Etudes/Projet/buffa/finder-music/src/components/Home/Song/Song.js\";\nimport React, { useState } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    marginBottom: '15px'\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  content: {\n    flex: '1 0 auto'\n  },\n  cover: {\n    width: 151\n  },\n  controls: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1)\n  },\n  playIcon: {\n    height: 38,\n    width: 38\n  }\n}));\n\nconst Song = props => {\n  var _props$album, _props$album2;\n\n  const [currentSong, setCurrentSong] = useState({\n    song: (_props$album = props.album) === null || _props$album === void 0 ? void 0 : _props$album.songs[0],\n    isPlayed: false\n  });\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const playSong = song => {\n    const audio = new Audio(song.song.preview);\n    console.log(song.preview);\n    setCurrentSong(state => {\n      return {\n        song,\n        isPlayed: !state.isPlayed\n      };\n    });\n\n    if (currentSong._id === song._id) {\n      console.log(currentSong.isPlayed);\n      currentSong.isPlayed ? audio.play() : audio.pause();\n    }\n  };\n\n  const displayPlay = song => {\n    if (currentSong._id == song.song._id) {\n      song.isPlayed = currentSong.isPlayed;\n    }\n\n    if (song.isPlayed) {\n      React.createElement(PlayArrowIcon, {\n        className: classes.playIcon,\n        onClick: () => playSong({\n          song: song,\n          isPlayed: true\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      });\n    } else {\n      React.createElement(PauseIcon, {\n        className: classes.playIcon,\n        onClick: () => playSong({\n          song: song,\n          isPlayed: true\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      });\n    }\n  };\n\n  const songPlaceHolder = (_props$album2 = props.album) === null || _props$album2 === void 0 ? void 0 : _props$album2.songs.map((song, index) => {\n    var _props$album$cover;\n\n    return React.createElement(\"div\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(Card, {\n      className: classes.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(CardMedia, {\n      className: classes.cover,\n      image: (_props$album$cover = props.album.cover) === null || _props$album$cover === void 0 ? void 0 : _props$album$cover.medium,\n      title: \"Live from space album cover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: classes.details,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(CardContent, {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      component: \"h5\",\n      variant: \"h5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, song.title), React.createElement(Typography, {\n      variant: \"subtitle1\",\n      color: \"textSecondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Mac Miller\")), React.createElement(\"div\", {\n      className: classes.controls,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      \"aria-label\": \"previous\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, theme.direction === 'rtl' ? React.createElement(SkipNextIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }) : React.createElement(SkipPreviousIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), React.createElement(IconButton, {\n      \"aria-label\": \"play/pause\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, displayPlay(song)), React.createElement(IconButton, {\n      \"aria-label\": \"next\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, theme.direction === 'rtl' ? React.createElement(SkipPreviousIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }) : React.createElement(SkipNextIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }))))));\n  });\n  console.log(\"render\");\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, songPlaceHolder);\n};\n\nexport default Song;","map":{"version":3,"sources":["/Users/santatriniainariantsoaramanampamonjy/Documents/Etudes/Projet/buffa/finder-music/src/components/Home/Song/Song.js"],"names":["React","useState","makeStyles","useTheme","Card","CardContent","CardMedia","IconButton","Typography","SkipPreviousIcon","PlayArrowIcon","PauseIcon","SkipNextIcon","useStyles","theme","root","display","marginBottom","details","flexDirection","content","flex","cover","width","controls","alignItems","paddingLeft","spacing","paddingBottom","playIcon","height","Song","props","currentSong","setCurrentSong","song","album","songs","isPlayed","classes","playSong","audio","Audio","preview","console","log","state","_id","play","pause","displayPlay","songPlaceHolder","map","index","medium","title","direction"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA+B,OAA/B;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,0BAArC;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AAEA,MAAMC,SAAS,GAAGX,UAAU,CAACY,KAAK,KAAK;AACnCC,EAAAA,IAAI,EAAE;AACFC,IAAAA,OAAO,EAAE,MADP;AAEFC,IAAAA,YAAY,EAAE;AAFZ,GAD6B;AAKnCC,EAAAA,OAAO,EAAE;AACLF,IAAAA,OAAO,EAAE,MADJ;AAELG,IAAAA,aAAa,EAAE;AAFV,GAL0B;AASnCC,EAAAA,OAAO,EAAE;AACLC,IAAAA,IAAI,EAAE;AADD,GAT0B;AAYnCC,EAAAA,KAAK,EAAE;AACHC,IAAAA,KAAK,EAAE;AADJ,GAZ4B;AAenCC,EAAAA,QAAQ,EAAE;AACNR,IAAAA,OAAO,EAAE,MADH;AAENS,IAAAA,UAAU,EAAE,QAFN;AAGNC,IAAAA,WAAW,EAAEZ,KAAK,CAACa,OAAN,CAAc,CAAd,CAHP;AAINC,IAAAA,aAAa,EAAEd,KAAK,CAACa,OAAN,CAAc,CAAd;AAJT,GAfyB;AAqBnCE,EAAAA,QAAQ,EAAE;AACNC,IAAAA,MAAM,EAAE,EADF;AAENP,IAAAA,KAAK,EAAE;AAFD;AArByB,CAAL,CAAN,CAA5B;;AA2BA,MAAMQ,IAAI,GAAGC,KAAD,IAAU;AAAA;;AAClB,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCjC,QAAQ,CAAC;AAAEkC,IAAAA,IAAI,kBAACH,KAAK,CAACI,KAAP,iDAAC,aAAaC,KAAb,CAAmB,CAAnB,CAAP;AAA6BC,IAAAA,QAAQ,EAAC;AAAtC,GAAD,CAA9C;AACA,QAAMC,OAAO,GAAG1B,SAAS,EAAzB;AACA,QAAMC,KAAK,GAAGX,QAAQ,EAAtB;;AACA,QAAMqC,QAAQ,GAAGL,IAAD,IAAQ;AACpB,UAAMM,KAAK,GAAG,IAAIC,KAAJ,CAAUP,IAAI,CAACA,IAAL,CAAUQ,OAApB,CAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYV,IAAI,CAACQ,OAAjB;AACAT,IAAAA,cAAc,CAAEY,KAAD,IAAS;AACpB,aAAO;AAACX,QAAAA,IAAD;AAAMG,QAAAA,QAAQ,EAAG,CAACQ,KAAK,CAACR;AAAxB,OAAP;AACH,KAFa,CAAd;;AAIA,QAAGL,WAAW,CAACc,GAAZ,KAAoBZ,IAAI,CAACY,GAA5B,EAAgC;AAC5BH,MAAAA,OAAO,CAACC,GAAR,CAAYZ,WAAW,CAACK,QAAxB;AACAL,MAAAA,WAAW,CAACK,QAAZ,GAAsBG,KAAK,CAACO,IAAN,EAAtB,GAAqCP,KAAK,CAACQ,KAAN,EAArC;AAEH;AAEJ,GAbD;;AAcA,QAAMC,WAAW,GAAIf,IAAD,IAAQ;AACxB,QAAGF,WAAW,CAACc,GAAZ,IAAiBZ,IAAI,CAACA,IAAL,CAAUY,GAA9B,EAAkC;AAC9BZ,MAAAA,IAAI,CAACG,QAAL,GAAgBL,WAAW,CAACK,QAA5B;AACH;;AACD,QAAGH,IAAI,CAACG,QAAR,EAAiB;AAET,0BAAC,aAAD;AAAe,QAAA,SAAS,EAAEC,OAAO,CAACV,QAAlC;AAA4C,QAAA,OAAO,EAAE,MAAIW,QAAQ,CAAC;AAACL,UAAAA,IAAI,EAACA,IAAN;AAAWG,UAAAA,QAAQ,EAAE;AAArB,SAAD,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADH;AAIJ,KALD,MAMI;AACA,0BAAC,SAAD;AAAW,QAAA,SAAS,EAAEC,OAAO,CAACV,QAA9B;AAAwC,QAAA,OAAO,EAAE,MAAIW,QAAQ,CAAC;AAACL,UAAAA,IAAI,EAACA,IAAN;AAAWG,UAAAA,QAAQ,EAAE;AAArB,SAAD,CAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEH;AACJ,GAdD;;AAeA,QAAMa,eAAe,oBAAGnB,KAAK,CAACI,KAAT,kDAAG,cAAaC,KAAb,CAAmBe,GAAnB,CAAuB,CAACjB,IAAD,EAAOkB,KAAP;AAAA;;AAAA,WAE3C;AAAK,MAAA,GAAG,EAAEA,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAEd,OAAO,CAACxB,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,SAAD;AACQ,MAAA,SAAS,EAAEwB,OAAO,CAACjB,KAD3B;AAEQ,MAAA,KAAK,wBAAEU,KAAK,CAACI,KAAN,CAAYd,KAAd,uDAAE,mBAAmBgC,MAFlC;AAGQ,MAAA,KAAK,EAAC,6BAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAMI;AAAK,MAAA,SAAS,EAAEf,OAAO,CAACrB,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,WAAD;AAAa,MAAA,SAAS,EAAEqB,OAAO,CAACnB,OAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAC,IAAtB;AAA2B,MAAA,OAAO,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKe,IAAI,CAACoB,KADV,CADJ,EAII,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAC,WAApB;AAAgC,MAAA,KAAK,EAAC,eAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,CADJ,EASI;AAAK,MAAA,SAAS,EAAEhB,OAAO,CAACf,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,UAAD;AAAY,oBAAW,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKV,KAAK,CAAC0C,SAAN,KAAoB,KAApB,GAA4B,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA5B,GAA+C,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADpD,CADJ,EAII,oBAAC,UAAD;AAAY,oBAAW,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKN,WAAW,CAACf,IAAD,CADhB,CAJJ,EAOI,oBAAC,UAAD;AAAY,oBAAW,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKrB,KAAK,CAAC0C,SAAN,KAAoB,KAApB,GAA4B,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA5B,GAAmD,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADxD,CAPJ,CATJ,CANJ,CADJ,CAF2C;AAAA,GAAvB,CAAxB;AAmCAZ,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,SAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKM,eADL,CAFJ;AASH,CA9ED;;AA+EA,eAAepB,IAAf","sourcesContent":["import React,{ useState } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        marginBottom: '15px'\n    },\n    details: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    content: {\n        flex: '1 0 auto',\n    },\n    cover: {\n        width: 151,\n    },\n    controls: {\n        display: 'flex',\n        alignItems: 'center',\n        paddingLeft: theme.spacing(1),\n        paddingBottom: theme.spacing(1),\n    },\n    playIcon: {\n        height: 38,\n        width: 38,\n    },\n}));\n\nconst Song= (props) =>{\n    const [currentSong, setCurrentSong] = useState({ song:props.album?.songs[0],isPlayed:false});\n    const classes = useStyles();\n    const theme = useTheme();\n    const playSong =(song)=>{\n        const audio = new Audio(song.song.preview);\n        console.log(song.preview);\n        setCurrentSong((state)=>{\n            return {song,isPlayed : !state.isPlayed}\n        });\n\n        if(currentSong._id === song._id){\n            console.log(currentSong.isPlayed);\n            currentSong.isPlayed? audio.play() : audio.pause();\n\n        }\n       \n    }\n    const displayPlay = (song)=>{\n        if(currentSong._id==song.song._id){\n            song.isPlayed = currentSong.isPlayed;\n        }\n        if(song.isPlayed){\n             (\n                <PlayArrowIcon className={classes.playIcon} onClick={()=>playSong({song:song,isPlayed: true})}/>\n        \n            )\n        }\n        else{\n            <PauseIcon className={classes.playIcon} onClick={()=>playSong({song:song,isPlayed: true})}/>\n\n        }\n    }\n    const songPlaceHolder = props.album?.songs.map((song, index) => (\n        \n        <div key={index}>\n            <Card className={classes.root}>\n            <CardMedia\n                    className={classes.cover}\n                    image={props.album.cover?.medium}\n                    title=\"Live from space album cover\"\n                />\n                <div className={classes.details}>\n                    <CardContent className={classes.content}>\n                        <Typography component=\"h5\" variant=\"h5\">\n                            {song.title}\n                        </Typography>\n                        <Typography variant=\"subtitle1\" color=\"textSecondary\">\n                            Mac Miller\n          </Typography>\n                    </CardContent>\n                    <div className={classes.controls}>\n                        <IconButton aria-label=\"previous\">\n                            {theme.direction === 'rtl' ? <SkipNextIcon /> : <SkipPreviousIcon />}\n                        </IconButton>\n                        <IconButton aria-label=\"play/pause\">\n                            {displayPlay(song)}\n                        </IconButton>\n                        <IconButton aria-label=\"next\">\n                            {theme.direction === 'rtl' ? <SkipPreviousIcon /> : <SkipNextIcon />}\n                        </IconButton>\n                    </div>\n                </div>\n               \n            </Card>\n\n        </div>\n    ));\n    console.log(\"render\");\n    return (\n        \n        <div>\n            {songPlaceHolder}\n\n        </div>\n\n    )\n\n}\nexport default Song;"]},"metadata":{},"sourceType":"module"}